import json
import requests
from lxml import html
from collections import OrderedDict
import argparse

for i in range(5):
			url = "https://www.expedia.com/Quito-Hotels-Casa-Gangotena.h6793417.Hotel-Information?chkin=2022-10-19&chkout=2022-10-20&x_pwa=1&rfrr=HSR&pwa_ts=1665193768980&referrerUrl=aHR0cHM6Ly93d3cuZXhwZWRpYS5jb20vSG90ZWwtU2VhcmNo&useRewards=false&rm1=a2&regionId=3623&destination=Quito%2C+Pichincha%2C+Ecuador&destType=MARKET&neighborhoodId=553248635976396551&trackingData=AAAAAQAAAAEAAAAQJgOCJWwG3qow8DsF-N6kcCZaKoDnA4I8mEEi4li7gMFcra03cfJfNjQmSHzIxxaLhkWdZRMGR8xvprq5z4MjO8zdhkLM_mIe5E7jx7msfxgn1cSGioQOLSd0vfKB9f83t4vG6SRRUUCJ0jn239l0KyaUpJU2IShu5yeU5VurLXPFnJqZHOIyzyqIpTDA0isvvQsPaUufrlD8n4yyU0aA3_Hv9oFqYXbmoX5wcknmi0GzEfMEf1Pt-cU3Z8g7vWXe7grEq6zUxXDmVmh1VJVQYyf6RDNrheEIXwM-ZSnfjLxlObXCWHfSuAOQ6oDsUrhtqmkdqq8QXA4XSiKSnUEz_seC4ZBvIXFOBWZZ3XOmg8T1DC9wy8g0TxkuXPRltjO4M7hCmYNQ-pmI8iPutjkkW0riUWnncKfnh2iX6Gf56-5Lb4HU1rWS331hRfvQxaLij8jJcHSbWfg5jnAqd6NpsYQGQZfgMfnh3EyrYcp51kWb52dHuM4PflzDY88pqqTFTuewmrtiAN0l91m5yU9YI3LTxt3Id174ybJAX0MRqZdqR1rg6dO4cEuKIPfWQIwOwzuAztEp-IaAjiRaNLn-IKSNUATfQ1-br2zqyhmt1nC5f3V-ChR9Z3pmcBCOmRph1GypqiuxCvMpV6yvvj1oR9DBUSlGQg5DKiKWSXynPCg5C19vv51Gkrev3k_OAvTasaLi3_JWoIDbOCkxbsJMQm0BqRJYfpgzi-xcYC-fJqtymtxpZ6Wl_trJKsAzCqm3IEIvwy9e1-Mc4zuo4usPMHa1SvZQ6ZdgR87CyinmQ45VoZd7OOFeYiORaIssn4WN4cug_4suVH3dqtj_Pq-XVAd_GPV1oAPqSWpBagC5xdagGJ6OEsclDxkZHuooOn8errvSxemHm_EeLcQaJyTS5htWP8tOSUnVAbyLzZxBQKS2SfqP5h_oJJm68efJv3eo9-r9YuXV8xPyPtPoQnO1GuabcygqaR-MblA6EWoDqumP2CAXt1qlLLaVTJwO7q-EAl7sPqujwtZpkj9gTSPWLV3YCRisEznp4VeatCEt2i0vcrTj-iQ56_DArs64tQ0QKPsx6_yLziPp2W9mjOCzaeMMPfLf51I6FJ2ZCq3yyAHtiTNYJTrJsG2OoxnTzqI8QN8nff_d2hAnTYwROiY9eoS5WaUV1IrUF-i_0iJcJv2IUQG03HA0_TERGquANwnfl_pqlV17iOiR6aLiTejzjH8GI2memb6PifVnYVvstd7ZtTrA2tftvYJlmIUlguBDtmAw5oT45NDabB2lksE37v-VxCjjdDsD1PwSqXWlhgyPKKnpvSLbVcwVkdIenQ-cTfhIlp5o1ECQ9BTPv7sLRFun_4zsdS5dE_-K0T7ZBeFI3yTx5hrZcQpIgMyewSY-juAsXmm0Yz4pwJUPu468kOuf-KxKGpFHAl0K7ZElnMcygrde3zdTxNAdK2GPQjAkUeUOOM_A5KWoRmNLRrC8EGsa6YR_-qZQQcK6jjkMnQY_CHe9QE7QZOpKAMmzzni81cgUHxWF1UKEHc25PgNV56phATeXB08xaJvkF819x3TFLfUyNzHhDLkNs1B5gyhYZVidgB5m86kskwrNJsk0g7OUXLHYnkGdrG4q7bPMWeGgA_XMgEGILGnAx5OAx3cE5UqeKBA4HT4yAa0piokiCK2BlUhfbRZ8KFeDBLhzAgIiR82RshYR5N4YqlyFtLBGQpeSuCZzWGMbXKVig4cNH4oIgP2DClZHzhuCk51waDHAw-upm2I5NNUH_fEC-VoDblle6MUw5o3GSgt5k5R6Y_n9W8qf6Q5DWjExkUmDQ_ZIMhmh6sQK158eusKlFpgqd8JuUccB5Mih2hLfbzPT7hVh_NRpQKQo9uEPZA3bgAz4KBe7zkuRI4wcYQ9FJQaFc1NpXivukBLpo-OoS-_UNim82PsWh58mFOXk5gB98LK27qEy64yQ0ALML6fKike1YPr5O0S069wIg4oGwtmupkBqhBw6-D1FT3fKgav67GKUPDDEpNyAo2vwjgAgl3Dc0og4RJctzeK3huZP0bS2zWCulMLjxigi_kqT7SG78COYTmyHY3ia3oWSDlF2w7xH54a2NF9x9zcDneuUFOR77XpxweHn1D0oLDKNODh4u6esCBZs-UdI8egL3unDcLR5fGWw738RZ8uexTUoDXe88O4WX76Rsy56nF3h_wfqPgGChtg5cgartbUV-D9Jcc5s2CL5HfxDucR0K-Tqda0PDG1w_L7XeafDpv7bWdNirkXiSzkCMFLsBG77-fFqLLKsYzLQAmWfY5UPiyWUmtifrJbluwbtWFzSNiNdYLoL6htcNBC8hrcCZOA_ycSymwoIkFIMuecuLeMp4hvMOiIU3SyDfQd09VkuHF1T2C1pSx3CKq79dp6W76IJGhqbLawOy-8QhEbfZEopIyu1sI3nqIiX3EVGiL14gEtKAMpYn6JdMur1PuU46s8W2uyBgtMOcMx1VG_Ny7cF2atYPrbJTA%3D%3D&rank=1&testVersionOverride=Buttercup%2C44204.0.0%2C44203.0.0%2C43549.129874.3%2C43550.131256.0%2C31936.102311.0%2C33775.98848.1%2C38414.114301.0%2C39483.0.0%2C38427.115718.1%2C42444.0.0%2C42589.0.0%2C42876.124673.0%2C42973.0.0%2C42974.0.0%2C42975.0.0%2C42976.0.0%2C42802.125960.1%2C33739.99567.0%2C37898.109354.0%2C37930.0.0%2C37949.0.0%2C37354.113955.1%2C43435.128144.0%2C43153.132057.3%2C44700.0.0%2C44704.0.0&slots=&position=1&beaconIssued=&sort=RECOMMENDED&top_dp=331&top_cur=USD&semdtl=&userIntent=&selectedRoomType=214202092&selectedRatePlan=248034741"
			headers = {'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/70.0.3538.77 Safari/537.36'}
			response = requests.get(url)
			parser = html.fromstring(response.text)
			json_data_xpath = parser.xpath("//script[@id='cachedResultsJson']//text()")
			raw_json =json.loads(json_data_xpath[0] if json_data_xpath else '')
			flight_data = json.loads(raw_json["content"])